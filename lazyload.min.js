!function(e,t){var n=function(e){var t=e.image,n=e.src;t.setAttribute("src",n),t.addEventListener("load",function(){t.style.opacity="1"})},i=function(e,t){var n=e.parentNode.insertBefore(t,e);n.appendChild(e)},r=function(e){var n=e.getAttribute("ratio").split("x"),r=parseInt(n[1],10)/parseInt(n[0],10)*100,o=t.createElement("div");o.classList.add("lazy-image"),o.style.paddingBottom=r+"%",i(e,o)},o=function(i){var o=[];return[].forEach.call(t.querySelectorAll(i),function(t){var i=t.getAttribute("data-src");r(t);var a={image:t,src:i};t.parentNode.getBoundingClientRect().top-e.innerHeight<0?n(a):o.push(a)}),o},a=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"img",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=o(i);t.addEventListener("scroll",function i(){0===a.length&&t.removeEventListener("scroll",i),a.forEach(function(t){var i=t.image;i.parentNode.getBoundingClientRect().top-e.innerHeight<r&&(n(t),a.splice(a.indexOf(t),1))})})};e.lazyLoad=a,e.addEventListener("beforeunload",function(){e.scrollTo(0,0)})}(window,document);

!function(e,t){var n=function(e){var t=e.element;t.setAttribute("src",e.src),t.addEventListener("load",function(){t.style.opacity="1"})},o=function(e,t){var n=e.parentNode.insertBefore(t,e);n.appendChild(e)},r=function(r,i){var a=[];return[].forEach.call(t.querySelectorAll(r),function(r){var l=r.getAttribute("data-src"),c=r.getAttribute("ratio").split("x"),s=parseInt(c[1],10)/parseInt(c[0],10)*100,d=t.createElement("div");d.classList.add("lazy-image"),d.style.paddingBottom=s+"%",o(r,d);var f={element:r,offset:r.parentNode.getBoundingClientRect(),src:l};f.offset.top<e.innerHeight+i?n(f):a.push(f)}),a},i=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"img",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=r(o,i);t.addEventListener("scroll",function o(){0===a.length&&t.removeEventListener("scroll",o),a.forEach(function(t){e.innerHeight+e.pageYOffset+i>t.offset.top&&(n(t),a.splice(a.indexOf(t),1))})})};e.lazyLoad=i,e.addEventListener("beforeunload",function(){e.scrollTo(0,0)})}(window,document);

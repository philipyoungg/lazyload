!function(e,t){var n=function(e){var t=e.element;t.setAttribute("src",e.src),t.addEventListener("load",function(){t.style.opacity="1"})},o=function(e,t){var n=e.parentNode.insertBefore(t,e);n.appendChild(e)},r=function(e){var n=e.getAttribute("ratio").split("x"),r=parseInt(n[1],10)/parseInt(n[0],10)*100,i=t.createElement("div");i.classList.add("lazy-image"),i.style.paddingBottom=r+"%",o(e,i)},i=function(o){var i=[];return[].forEach.call(t.querySelectorAll(o),function(t){var o=t.getAttribute("data-src");r(t);var a={element:t,offset:t.parentNode.getBoundingClientRect(),src:o};a.offset.top<e.innerHeight?n(a):i.push(a)}),i},a=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"img",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=i(o);t.addEventListener("scroll",function o(){0===a.length&&t.removeEventListener("scroll",o),a.forEach(function(t){e.innerHeight+e.pageYOffset+r>t.offset.top&&(n(t),a.splice(a.indexOf(t),1))})})};e.lazyLoad=a,e.addEventListener("beforeunload",function(){e.scrollTo(0,0)})}(window,document);

!function(t,e){var n=function(t){var e=t.image,n=t.src;e.setAttribute("src",n),e.addEventListener("load",function(){e.style.opacity="1"})},i=function(t,e){var n=t.parentNode.insertBefore(e,t);n.appendChild(t)},r=function(t){var n=t.getAttribute("ratio").split("x"),r=parseInt(n[1],10)/parseInt(n[0],10)*100,o=e.createElement("div");o.classList.add("lazy-image"),o.style.paddingBottom=r+"%",i(t,o)},o=function(i){var o=[];return[].forEach.call(e.querySelectorAll(i),function(e){var i=e.getAttribute("data-src");r(e);var a={image:e,src:i};e.getBoundingClientRect().top-t.innerHeight<0?n(a):o.push(a)}),o},a=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"img",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=o(i);e.addEventListener("scroll",function i(){0===a.length&&e.removeEventListener("scroll",i),a.forEach(function(e){var i=e.image;i.getBoundingClientRect().top-t.innerHeight<r&&(n(e),a.splice(a.indexOf(e),1))})})};t.lazyLoad=a,t.addEventListener("beforeunload",function(){t.scrollTo(0,0)})}(window,document);

!function(e,t){var n=function(e){var t=e.element;t.setAttribute("src",e.src),t.addEventListener("load",function(){t.style.opacity="1"})},o=function(e,t){var n=e.parentNode.insertBefore(t,e);n.appendChild(e)},r=function(r){var i=[];return[].forEach.call(t.querySelectorAll(r),function(r){var a=r.getAttribute("data-src"),l=r.getAttribute("ratio").split("x"),c=parseInt(l[1],10)/parseInt(l[0],10)*100,s=t.createElement("div");s.classList.add("lazy-image"),s.style.paddingBottom=c+"%",o(r,s);var d={element:r,offset:r.parentNode.getBoundingClientRect(),src:a};d.offset.top<e.innerHeight?n(d):i.push(d)}),i},i=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"img",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=r(o);t.addEventListener("scroll",function o(){0===a.length&&t.removeEventListener("scroll",o),a.forEach(function(t){e.innerHeight+e.pageYOffset+i>t.offset.top&&(n(t),a.splice(a.indexOf(t),1))})})};e.lazyLoad=i,e.addEventListener("beforeunload",function(){e.scrollTo(0,0)})}(window,document);
